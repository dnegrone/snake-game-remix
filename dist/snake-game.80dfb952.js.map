{"version":3,"sources":["snake.js","../index.js"],"names":["snake","playButton","document","getElementById","resetButton","canvas","ctx","getContext","addEventListener","style","visibility","display","location","reload","drawRect","x","y","color","size","padding","beginPath","fillStyle","rect","fill","tableSize","User","prev","i","tailList","temp","dire","loop","push","value","Item","parseInt","Math","random","user","item","randomPosition","setInterval","update","addTail","p","window","onkeydown","e","keyCode"],"mappings":";;ACAA;;;;AACA;;;;;;;;;ADDA,IAAMA,KAAK,GAAG,SAARA,KAAQ,GAAM;AAChB,MAAIC,UAAU,GAAGC,QAAQ,CAACC,cAAT,CAAwB,MAAxB,CAAjB;AACA,MAAIC,WAAW,GAAGF,QAAQ,CAACC,cAAT,CAAwB,OAAxB,CAAlB;AACA,MAAIE,MAAM,GAAGH,QAAQ,CAACC,cAAT,CAAwB,QAAxB,CAAb;AACA,MAAIG,GAAG,GAAGD,MAAM,CAACE,UAAP,CAAkB,IAAlB,CAAV;AACAN,EAAAA,UAAU,CAACO,gBAAX,CAA4B,OAA5B,EAAqC,YAAM;AACvCP,IAAAA,UAAU,CAACQ,KAAX,CAAiBC,UAAjB,GAA8B,QAA9B;AACAL,IAAAA,MAAM,CAACI,KAAP,CAAaE,OAAb,GAAuB,OAAvB;AACAP,IAAAA,WAAW,CAACK,KAAZ,CAAkBE,OAAlB,GAA4B,OAA5B;AACH,GAJD;AAKAP,EAAAA,WAAW,CAACI,gBAAZ,CAA6B,OAA7B,EAAsC,YAAM;AACxCN,IAAAA,QAAQ,CAACU,QAAT,CAAkBC,MAAlB;AACH,GAFD;;AAGA,MAAMC,QAAQ,GAAG,SAAXA,QAAW,CAACC,CAAD,EAAIC,CAAJ,EAAOC,KAAP,EAAiB;AAC9B,QAAMC,IAAI,GAAG,EAAb;AACA,QAAMC,OAAO,GAAG,CAAhB;AACAb,IAAAA,GAAG,CAACc,SAAJ;AACAd,IAAAA,GAAG,CAACe,SAAJ,GAAgBJ,KAAhB;AACAX,IAAAA,GAAG,CAACgB,IAAJ,CAAS,CAACJ,IAAI,GAAGC,OAAR,IAAmBJ,CAA5B,EAA+B,CAACG,IAAI,GAAGC,OAAR,IAAmBH,CAAlD,EAAqDE,IAArD,EAA2DA,IAA3D;AACAZ,IAAAA,GAAG,CAACiB,IAAJ;AACH,GAPD;;AASA,MAAMC,SAAS,GAAG,EAAlB;;AAtBgB,MAwBVC,IAxBU;AAAA;AAAA;;AAAA,iCAyBR,CAzBQ;;AAAA,iCA0BR,CA1BQ;;AAAA,qCA2BJ,MA3BI;;AAAA,oCA4BL,CA5BK;;AAAA,wCA6BD,EA7BC;AAAA;;AAAA;AAAA;AAAA,+BA+BH;AACL,YAAIC,IAAI,GAAG;AAAEX,UAAAA,CAAC,EAAE,KAAKA,CAAV;AAAaC,UAAAA,CAAC,EAAE,KAAKA;AAArB,SAAX;;AACA,aAAI,IAAIW,CAAR,IAAa,KAAKC,QAAlB,EAA4B;AACxB,cAAIC,IAAI,GAAG,KAAKD,QAAL,CAAcD,CAAd,CAAX;AACA,eAAKC,QAAL,CAAcD,CAAd,IAAmBD,IAAnB,CAFwB,CAGxB;;AACAA,UAAAA,IAAI,GAAGG,IAAP;AACH;;AACD,gBAAQ,KAAKC,IAAb;AACI,eAAK,CAAL;AACI,iBAAKf,CAAL,IAAU,CAAV;AACA;;AACJ,eAAK,CAAL;AACI,iBAAKC,CAAL,IAAU,CAAV;AACA;;AACJ,eAAK,CAAL;AACI,iBAAKD,CAAL,IAAU,CAAV;AACA;;AACJ,eAAK,CAAL;AACI,iBAAKC,CAAL,IAAU,CAAV;AACA;AAZR;;AAeA,aAAKD,CAAL,GAAS,KAAKgB,IAAL,CAAU,KAAKhB,CAAf,CAAT;AACA,aAAKC,CAAL,GAAS,KAAKe,IAAL,CAAU,KAAKf,CAAf,CAAT;AACH;AAxDW;AAAA;AAAA,gCA0DF;AACN,aAAKY,QAAL,CAAcI,IAAd,CAAmB;AACfjB,UAAAA,CAAC,EAAE,KAAKA,CADO;AAEfC,UAAAA,CAAC,EAAE,KAAKA;AAFO,SAAnB;AAIH;AA/DW;AAAA;AAAA,2BAiEPiB,KAjEO,EAiEA;AACR,YAAGA,KAAK,GAAG,CAAX,EAAa;AACTA,UAAAA,KAAK,GAAGT,SAAS,GAAG,CAApB;AACH,SAFD,MAGK,IAAIS,KAAK,GAAGT,SAAS,GAAG,CAAxB,EAA2B;AAC5BS,UAAAA,KAAK,GAAG,CAAR;AACH;;AACD,eAAOA,KAAP;AACH;AAzEW;;AAAA;AAAA;;AAAA,MA4EVC,IA5EU;AAAA;AAAA;;AAAA,iCA6ER,CA7EQ;;AAAA,iCA8ER,CA9EQ;;AAAA,qCA+EJ,MA/EI;AAAA;;AAAA;AAAA;AAAA,uCAiFK;AACb,aAAKnB,CAAL,GAASoB,QAAQ,CAACC,IAAI,CAACC,MAAL,KAAgBb,SAAjB,CAAjB;AACA,aAAKR,CAAL,GAASmB,QAAQ,CAACC,IAAI,CAACC,MAAL,KAAgBb,SAAjB,CAAjB;AACH;AApFW;;AAAA;AAAA;;AAuFhB,MAAIc,IAAI,GAAG,IAAIb,IAAJ,EAAX;AACA,MAAIc,IAAI,GAAG,IAAIL,IAAJ,EAAX;AACAK,EAAAA,IAAI,CAACC,cAAL;AAEAC,EAAAA,WAAW,CAAC,YAAM;AACd,SAAI,IAAI1B,CAAC,GAAC,CAAV,EAAaA,CAAC,GAAGS,SAAjB,EAA4BT,CAAC,EAA7B,EAAiC;AAC7B,WAAI,IAAIC,CAAC,GAAC,CAAV,EAAaA,CAAC,GAAGQ,SAAjB,EAA4BR,CAAC,EAA7B,EAAiC;AAC7BF,QAAAA,QAAQ,CAACC,CAAD,EAAIC,CAAJ,EAAO,MAAP,CAAR;AACH;AACJ;;AACDsB,IAAAA,IAAI,CAACI,MAAL;;AAEA,QAAGJ,IAAI,CAACvB,CAAL,IAAUwB,IAAI,CAACxB,CAAf,IAAoBuB,IAAI,CAACtB,CAAL,IAAUuB,IAAI,CAACvB,CAAtC,EAAyC;AACrCsB,MAAAA,IAAI,CAACK,OAAL;AACAJ,MAAAA,IAAI,CAACC,cAAL;AACH;;AACD,SAAI,IAAIb,CAAR,IAAaW,IAAI,CAACV,QAAlB,EAA4B;AACxB,UAAIgB,CAAC,GAAGN,IAAI,CAACV,QAAL,CAAcD,CAAd,CAAR;;AACA,UAAGA,CAAC,GAAG,CAAP,EAAU;AACNb,QAAAA,QAAQ,CAAC8B,CAAC,CAAC7B,CAAH,EAAM6B,CAAC,CAAC5B,CAAR,EAAW,MAAX,CAAR;AACH,OAFD,MAEO;AACHF,QAAAA,QAAQ,CAAC8B,CAAC,CAAC7B,CAAH,EAAM6B,CAAC,CAAC5B,CAAR,EAAW,MAAX,CAAR;AACH;AACJ;;AAEDF,IAAAA,QAAQ,CAACwB,IAAI,CAACvB,CAAN,EAASuB,IAAI,CAACtB,CAAd,EAAiBsB,IAAI,CAACrB,KAAtB,CAAR;AACAH,IAAAA,QAAQ,CAACyB,IAAI,CAACxB,CAAN,EAASwB,IAAI,CAACvB,CAAd,EAAiBuB,IAAI,CAACtB,KAAtB,CAAR;AACH,GAvBU,EAuBR,GAvBQ,CAAX;;AAyBA4B,EAAAA,MAAM,CAACC,SAAP,GAAmB,UAACC,CAAD,EAAO;AACtB,QAAGA,CAAC,CAACC,OAAF,IAAa,EAAb,IAAmBD,CAAC,CAACC,OAAF,IAAa,EAAnC,EAAuC;AACnCV,MAAAA,IAAI,CAACR,IAAL,GAAYiB,CAAC,CAACC,OAAF,GAAY,EAAxB;AACH;AACJ,GAJD;AAKH,CAzHD;;eA2HehD","file":"snake-game.80dfb952.js","sourceRoot":"../src","sourcesContent":["const snake = () => {\n    let playButton = document.getElementById(\"play\")\n    let resetButton = document.getElementById(\"reset\")\n    let canvas = document.getElementById(\"canvas\")\n    let ctx = canvas.getContext(\"2d\")\n    playButton.addEventListener('click', () => {\n        playButton.style.visibility = \"hidden\"\n        canvas.style.display = \"block\"\n        resetButton.style.display = \"block\"\n    })\n    resetButton.addEventListener('click', () => {\n        document.location.reload()\n    })\n    const drawRect = (x, y, color) => {\n        const size = 40\n        const padding = 4\n        ctx.beginPath()\n        ctx.fillStyle = color\n        ctx.rect((size + padding) * x, (size + padding) * y, size, size)\n        ctx.fill()\n    }\n\n    const tableSize = 10\n\n    class User {\n        x = 0\n        y = 0\n        color = \"#ff0\"\n        dire = 2\n        tailList = []\n        \n        update() {\n            let prev = { x: this.x, y: this.y}\n            for(let i in this.tailList) {\n                let temp = this.tailList[i]\n                this.tailList[i] = prev\n                // console.log(prev)\n                prev = temp\n            }\n            switch (this.dire) {\n                case 0:\n                    this.x -= 1;\n                    break;\n                case 1:\n                    this.y -= 1;\n                    break;\n                case 2:\n                    this.x += 1;\n                    break;\n                case 3:\n                    this.y += 1;\n                    break;\n            }\n\n            this.x = this.loop(this.x)\n            this.y = this.loop(this.y)\n        }\n\n        addTail() {\n            this.tailList.push({\n                x: this.x,\n                y: this.y\n            })\n        }\n\n        loop(value) {\n            if(value < 0){\n                value = tableSize - 1\n            }\n            else if (value > tableSize - 1) {\n                value = 0;\n            }\n            return value\n        }\n    }\n\n    class Item {\n        x = 0\n        y = 0\n        color = \"#f0f\"\n\n        randomPosition() {\n            this.x = parseInt(Math.random() * tableSize)\n            this.y = parseInt(Math.random() * tableSize)\n        }\n    }\n\n    let user = new User()\n    let item = new Item()\n    item.randomPosition()\n\n    setInterval(() => {\n        for(let x=0; x < tableSize; x++) {\n            for(let y=0; y < tableSize; y++) {\n                drawRect(x, y, \"#000\")\n            }\n        }\n        user.update()\n\n        if(user.x == item.x && user.y == item.y) {\n            user.addTail()\n            item.randomPosition()\n        }\n        for(var i in user.tailList) {\n            let p = user.tailList[i]\n            if(i < 0) {\n                drawRect(p.x, p.y, \"#0f9\")\n            } else {\n                drawRect(p.x, p.y, \"#0f0\")\n            }\n        }\n        \n        drawRect(user.x, user.y, user.color)\n        drawRect(item.x, item.y, item.color)\n    }, 200)\n\n    window.onkeydown = (e) => {\n        if(e.keyCode >= 37 && e.keyCode <= 40) {\n            user.dire = e.keyCode - 37\n        }\n    }\n}\n\nexport default snake","import snake from \"./src/snake\"\nsnake()"]}